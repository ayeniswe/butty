<ul class="budget-list__items budget-list__items--scroll" hx-on="
    click:
        const btn = this.querySelector('.tag-create__button');
        const form = this.querySelector('.tag-create');

        if (form.classList.contains('is-active')) {
            form.classList.remove('is-active');
            btn.classList.add('is-active');
        }
    scroll:
        const btn = this.querySelector('.tag-create__button');
        const form = this.querySelector('.tag-create');

        if (form.classList.contains('is-active')) {
            form.classList.remove('is-active');
            btn.classList.add('is-active');
        };
  ">
    <li class="budget-tag-search budget-tab-create-row"
        hx-on="click:event.stopPropagation()">
        <input type="search"
               name="query"
               placeholder="Search tagsâ€¦"
               hx-get="/budgets/{{ id }}/tags/search"
               hx-trigger="input changed delay:200ms"
               hx-target="#tag-search-results"
               
               hx-swap="innerHTML" />
        
        <div id="tag-search-results"
             class="tag-search-dropdown"
             hx-on=" htmx:afterSwap: this.classList.toggle('is-open', this.innerHTML.trim().length > 0); "></div>
    </li>
    {% for item in tags %}
        <li class="budget-tag budget-tag--card">
            {{ item.name }}
            <button class="budget-tag-delete"
                    hx-on="click:event.stopPropagation()"
                    hx-delete="/budgets/{{ id }}/tags/{{ item.id }}"
                    hx-target="#budget-item-details-container"
                    hx-include="this"
                    hx-confirm="Remove this tag from this budget? The tag itself will not be deleted.">
                <svg class="icon icon--medium" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M10 13a5 5 0 0 1 0-7l2-2a5 5 0 0 1 7 7l-1 1"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round" />
                    <path d="M14 11a5 5 0 0 1 0 7l-2 2a5 5 0 0 1-7-7l1-1"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round" />
                </svg>
            </button>
        </li>
    {% endfor %}
</ul>
